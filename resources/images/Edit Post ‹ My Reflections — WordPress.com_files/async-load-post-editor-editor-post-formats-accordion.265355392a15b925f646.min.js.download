webpackJsonp(["async-load-post-editor-editor-post-formats-accordion"],{"./client/components/data/query-post-formats/index.jsx":function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o(r),n=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=o(n),l=s("./node_modules/babel-runtime/helpers/createClass.js"),u=o(l),d=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=o(d),m=s("./node_modules/babel-runtime/helpers/inherits.js"),p=o(m),f=s("./node_modules/react/react.js"),_=s("./node_modules/react-redux/es/index.js"),j=s("./client/state/post-formats/selectors.js"),P=s("./client/state/post-formats/actions.js"),h=function(t){function e(){return(0,i.default)(this,e),(0,c.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,u.default)(e,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.props.siteId!==t.siteId&&this.request(t)}},{key:"request",value:function(t){t.requestingPostFormats||t.requestPostFormats(t.siteId)}},{key:"render",value:function(){return null}}]),e}(f.Component);h.propTypes={siteId:f.PropTypes.number.isRequired,requestingPostFormats:f.PropTypes.bool,requestPostFormats:f.PropTypes.func},e.default=(0,_.connect)(function(t,e){return{requestingPostFormats:(0,j.isRequestingPostFormats)(t,e.siteId)}},{requestPostFormats:P.requestPostFormats})(h),t.exports=e.default},"./client/post-editor/editor-post-formats/accordion.jsx":function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s("./node_modules/lodash/isEmpty.js"),a=o(r),n=s("./node_modules/lodash/has.js"),i=o(n),l=s("./node_modules/react/react.js"),u=o(l),d=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/classnames/index.js"),m=o(c),p=s("./client/components/accordion/index.jsx"),f=o(p),_=s("./client/components/data/query-post-formats/index.jsx"),j=o(_),P=s("./client/post-editor/editor-post-formats/index.jsx"),h=o(P),F=s("./client/state/ui/selectors.js"),g=s("./client/state/post-formats/selectors.js"),b=s("./client/state/selectors/get-site-default-post-format.js"),y=o(b),v=u.default.createClass({displayName:"EditorPostFormatsAccordion",propTypes:{siteId:l.PropTypes.number,site:l.PropTypes.object,post:l.PropTypes.object,postFormats:l.PropTypes.object,defaultPostFormat:l.PropTypes.string},getFormatValue:function(){var t=this.props,e=t.post,s=t.defaultPostFormat;if(e)return e.format?e.format:s},getSubtitle:function(){var t=this.getFormatValue(),e=this.props,s=e.post,o=e.postFormats;if(s&&o)return(0,i.default)(o,t)?o[t]:this.translate("Standard",{context:"Post format"})},render:function(){var t=this.props,e=t.className,s=t.post,o=t.postFormats,r=(0,m.default)("editor-post-formats__accordion",e,{"is-loading":!s||!o});return u.default.createElement("div",null,u.default.createElement(j.default,{siteId:this.props.siteId}),!(0,a.default)(o)&&u.default.createElement(f.default,{title:this.translate("Post Format"),subtitle:this.getSubtitle(),className:r},u.default.createElement(h.default,{value:this.getFormatValue()})))}});e.default=(0,d.connect)(function(t){var e=(0,F.getSelectedSiteId)(t);return{siteId:e,site:(0,F.getSelectedSite)(t),postFormats:(0,g.getPostFormats)(t,e),defaultPostFormat:(0,y.default)(t,e)}})(v),t.exports=e.default},"./client/post-editor/editor-post-formats/index.jsx":function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s("./node_modules/babel-runtime/core-js/object/assign.js"),a=o(r),n=s("./node_modules/lodash/map.js"),i=o(n),l=s("./node_modules/react/react.js"),u=o(l),d=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/gridicons/build/index.js"),m=o(c),p=s("./client/components/forms/form-radio/index.jsx"),f=o(p),_=s("./client/components/data/query-post-formats/index.jsx"),j=o(_),P=s("./client/lib/posts/actions.js"),h=o(P),F=s("./client/lib/posts/stats.js"),g=s("./client/components/accordion/section.jsx"),b=o(g),y=s("./client/post-editor/editor-theme-help/index.jsx"),v=o(y),x=s("./client/state/ui/selectors.js"),E=s("./client/state/post-formats/selectors.js"),S=u.default.createClass({displayName:"EditorPostFormats",propTypes:{siteId:l.PropTypes.number,value:l.PropTypes.string,postFormats:l.PropTypes.object},getDefaultProps:function(){return{value:"standard"}},getSelectedPostFormat:function(){var t=this.props.value,e=!!this.getPostFormats()[t];return e?t:"standard"},getPostFormats:function(){var t={standard:this.translate("Standard",{context:"Post format"})};return this.props.postFormats&&(t=(0,a.default)(t,this.props.postFormats)),t},getPostFormatIcon:function(t){var e={aside:"aside",image:"image",video:"video-camera",quote:"quote",link:"link",gallery:"image-multiple",status:"pencil",audio:"audio",chat:"comment"};return e[t]?e[t]:"posts"},onChange:function(t){h.default.edit({format:t.target.value}),(0,F.recordStat)("post_format_changed"),(0,F.recordEvent)("Changed Post Format",t.target.value)},renderPostFormats:function(){var t=this,e=this.getSelectedPostFormat();return(0,i.default)(this.getPostFormats(),function(s,o){return u.default.createElement("li",{key:o,className:"editor-post-formats__format"},u.default.createElement("label",null,u.default.createElement(f.default,{name:"format",value:o,checked:o===e,onChange:t.onChange}),u.default.createElement("span",{className:"editor-post-formats__format-label"},u.default.createElement("span",{className:"editor-post-formats__format-icon"},u.default.createElement(m.default,{icon:t.getPostFormatIcon(o),size:18})),s)))})},render:function(){return u.default.createElement(b.default,null,u.default.createElement(v.default,{className:"editor-post-formats__help-link"}),u.default.createElement(j.default,{siteId:this.props.siteId}),u.default.createElement("ul",{className:"editor-post-formats"},this.renderPostFormats()))}});e.default=(0,d.connect)(function(t){var e=(0,x.getSelectedSiteId)(t);return{siteId:e,postFormats:(0,E.getPostFormats)(t,e)}})(S),t.exports=e.default},"./client/state/post-formats/actions.js":function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(e){return e({type:i.POST_FORMATS_REQUEST,siteId:t}),n.default.undocumented().site(t).postFormatsList().then(function(s){var o=s.formats;e({type:i.POST_FORMATS_RECEIVE,siteId:t,formats:o}),e({type:i.POST_FORMATS_REQUEST_SUCCESS,siteId:t})}).catch(function(s){e({type:i.POST_FORMATS_REQUEST_FAILURE,siteId:t,error:s})})}}Object.defineProperty(e,"__esModule",{value:!0}),e.requestPostFormats=r;var a=s("./client/lib/wp/browser.js"),n=o(a),i=s("./client/state/action-types.js")},"./client/state/post-formats/selectors.js":function(t,e,s){"use strict";function o(t,e){return!!t.postFormats.requesting[e]}function r(t,e){return t.postFormats.items[e]||null}Object.defineProperty(e,"__esModule",{value:!0}),e.isRequestingPostFormats=o,e.getPostFormats=r}});