webpackJsonp(["async-load-post-editor-editor-discussion"],{"./client/post-editor/editor-discussion/index.jsx":function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return e?"open":"closed"}function i(e){return"open"===e}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/lodash/pick.js"),r=n(a),d=s("./node_modules/lodash/get.js"),c=n(d),l=s("./node_modules/react/react.js"),p=s("./client/post-editor/editor-fieldset/index.jsx"),u=s("./client/components/forms/form-checkbox/index.jsx"),m=s("./client/lib/posts/actions.js"),h=s("./client/components/info-popover/index.jsx"),_=s("./client/lib/posts/stats.js");t.default=l.createClass({displayName:"EditorDiscussion",propTypes:{isNew:l.PropTypes.bool,post:l.PropTypes.object,site:l.PropTypes.object},getDefaultProps:function(){return{isNew:!1}},getDiscussionSetting:function(){if(this.props.post&&this.props.post.discussion)return this.props.post.discussion;if(this.props.site&&this.props.isNew&&this.props.post){var e=this.props.site,t="page"===this.props.post.type,s=(0,c.default)(e,"options.default_comment_status",!1),n=(0,c.default)(e,"options.default_ping_status",!1);return{comment_status:t?"closed":o(s),ping_status:t?"closed":o(n)}}return{}},onChange:function(e){var t,s,n=(0,r.default)(this.getDiscussionSetting(),"comment_status","ping_status"),i=o(e.target.checked),a=e.target.name;n[a]=i,"comment_status"===a?(t=e.target.checked?"advanced_comments_open_enabled":"advanced_comments_open_disabled",s="Comment status changed"):(t=e.target.checked?"advanced_pings_open_enabled":"advanced_pings_open_disabled",s="Trackback status changed"),_.recordStat(t),_.recordEvent(s,i),m.edit({discussion:n})},render:function(){var e=this.getDiscussionSetting();return l.createElement(p,{legend:this.translate("Discussion")},l.createElement("label",null,l.createElement(u,{name:"comment_status",checked:i(e.comment_status),disabled:!this.props.post,onChange:this.onChange}),l.createElement("span",null,this.translate("Allow comments"),l.createElement(h,{position:"top right",className:"editor-comment_status__info",gaEventCategory:"Editor",popoverName:"CommentStatus"},this.translate("Provide a comment section to give readers the ability to respond.")))),l.createElement("label",null,l.createElement(u,{name:"ping_status",checked:i(e.ping_status),disabled:!this.props.post,onChange:this.onChange}),l.createElement("span",null,this.translate("Allow Pingbacks & Trackbacks"))))}}),e.exports=t.default},"./client/post-editor/editor-fieldset/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/react/react.js"),o=s("./node_modules/classnames/index.js");e.exports=n.createClass({displayName:"EditorFieldset",propTypes:{legend:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.element]).isRequired},renderChildren:function(){return n.Children.map(this.props.children,function(e){return n.createElement("div",{className:"editor-fieldset__option"},e)})},render:function(){return n.createElement("fieldset",{className:o("editor-fieldset",this.props.className)},n.createElement("legend",{className:"editor-fieldset__legend"},this.props.legend),this.renderChildren())}})}});