webpackJsonp(["async-load-reader-sidebar"],{"./client/blocks/app-promo/index.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AppPromo=t.getPromoLink=void 0;var a=s("./node_modules/lodash/sample.js"),n=r(a),o=s("./node_modules/lodash/noop.js"),i=r(o),l=s("./node_modules/lodash/identity.js"),d=r(l),u=s("./node_modules/react/react.js"),c=r(u),p=s("./node_modules/react-redux/es/index.js"),f=s("./node_modules/store/store.js"),m=r(f),_=s("./node_modules/gridicons/build/index.js"),h=r(_),b=s("./node_modules/i18n-calypso/index.js"),E=s("./client/state/analytics/actions.js"),g=function(){var e=[{promoCode:"a0001",message:"WordPress.com your way — desktop app now available for Mac, Windows, and Linux.",type:"desktop"},{promoCode:"a0002",message:"Get WordPress.com app for your desktop.",type:"desktop"},{promoCode:"a0003",message:"WordPress.com app now available for desktop.",type:"desktop"},{promoCode:"a0005",message:"WordPress.com at your fingertips — download app for desktop.",type:"desktop"},{promoCode:"a0006",message:"WordPress.com in the palm of your hands — download app for mobile.",type:"mobile"}];return(0,n.default)(e)},L=t.getPromoLink=function(e,t){var s=t.type,r=t.promoCode;return"https://apps.wordpress.com/"+s+"/?ref=promo_"+e+"_"+r},y=t.AppPromo=c.default.createClass({displayName:"AppPromo",propTypes:{location:c.default.PropTypes.string.isRequired},getInitialState:function(){var e=this.props.promoItem||g();return{promoItem:e,showPromo:!0}},componentDidMount:function(){this.props.recordTracksEvent("calypso_desktop_promo_view",{promo_location:this.props.location,promo_code:this.state.promoItem.promoCode})},recordClickEvent:function(){this.props.recordTracksEvent("calypso_desktop_promo_click",{promo_location:this.props.location,promo_code:this.state.promoItem.promoCode})},dismiss:function(){this.setState({showPromo:!1}),this.props.saveDismissal(),this.props.recordTracksEvent("calypso_desktop_promo_dismiss",{promo_location:this.props.location,promo_code:this.state.promoItem.promoCode})},render:function(){if(!this.state.showPromo)return null;var e=this.props,t=e.location,s=e.translate,r=this.state.promoItem;return c.default.createElement("div",{className:"app-promo"},c.default.createElement("span",{tabIndex:"0",className:"app-promo__dismiss",onClick:this.dismiss},c.default.createElement(h.default,{icon:"cross",size:24}),c.default.createElement("span",{className:"app-promo__screen-reader-text"},s("Dismiss"))),c.default.createElement("a",{onClick:this.recordClickEvent,className:"app-promo__link",title:"Try the desktop app!",href:this.props.getPromoLink(t,r),target:"_blank",rel:"noopener noreferrer"},c.default.createElement("img",{className:"app-promo__icon",src:"/calypso/images/reader/promo-app-icon.png",width:"32",height:"32",alt:"WordPress Desktop Icon"}),r.message))}});y.defaultProps={translate:d.default,recordTracksEvent:i.default,saveDismissal:function(){return m.default.set("desktop_promo_disabled",!0)},getPromoLink:L},t.default=(0,p.connect)(null,{recordTracksEvent:E.recordTracksEvent})((0,b.localize)(y))},"./client/components/data/query-reader-followed-tags/index.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/react/react.js"),_=s("./node_modules/react-redux/es/index.js"),h=s("./client/state/reader/tags/items/actions.js"),b=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.requestFollowedTags()}},{key:"render",value:function(){return null}}]),t}(m.Component);b.propTypes={requestFollowedTags:m.PropTypes.func.isRequired},t.default=(0,_.connect)(null,{requestFollowedTags:h.requestTags})(b),e.exports=t.default},"./client/components/data/query-reader-lists/index.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/react/react.js"),_=s("./node_modules/react-redux/es/index.js"),h=s("./node_modules/redux/lib/index.js"),b=s("./client/state/reader/lists/selectors.js"),E=s("./client/state/reader/lists/actions.js"),g=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.props.isRequestingSubscribedLists||this.props.requestSubscribedLists()}},{key:"render",value:function(){return null}}]),t}(m.Component);g.propTypes={isRequestingSubscribedLists:m.PropTypes.bool,requestSubscribedLists:m.PropTypes.func},g.defaultProps={requestSubscribedLists:function(){}},t.default=(0,_.connect)(function(e){return{isRequestingSubscribedLists:(0,b.isRequestingSubscribedLists)(e)}},function(e){return(0,h.bindActionCreators)({requestSubscribedLists:E.requestSubscribedLists},e)})(g),e.exports=t.default},"./client/lib/reader-lists/actions.js":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=s("./client/dispatcher/index.js"),n=r(a),o=s("./client/lib/wp/browser.js"),i=r(o),l=s("./client/lib/reader-lists/lists.js"),d=r(l),u=s("./client/lib/reader-lists/subscriptions.js"),c=r(u),p=s("./client/lib/reader-lists/constants.js"),f={},m={fetchSubscriptions:function(){c.default.isFetching()||(c.default.setIsFetching(!0),i.default.undocumented().readLists(function(e,t){c.default.setIsFetching(!1),n.default.handleServerAction({type:p.action.RECEIVE_READER_LISTS,data:t,error:e})}))},follow:function(e,t){var s={owner:e,slug:t};n.default.handleViewAction({type:p.action.FOLLOW_LIST,data:s}),i.default.undocumented().followList(s,function(e,t){return!e&&t&&t.following?void n.default.handleServerAction({type:p.action.RECEIVE_FOLLOW_LIST,data:{owner:s.owner,slug:s.slug,title:t.title},error:e}):void n.default.handleServerAction({type:p.action.RECEIVE_FOLLOW_LIST_ERROR,data:{owner:s.owner,slug:s.slug,error:e,following:t&&t.following}})})},unfollow:function(e,t){var s={owner:e,slug:t};n.default.handleViewAction({type:p.action.UNFOLLOW_LIST,data:s}),i.default.undocumented().unfollowList(s,function(e,t){return e||t&&t.following?void n.default.handleServerAction({type:p.action.RECEIVE_UNFOLLOW_LIST_ERROR,data:{owner:s.owner,slug:s.slug,error:e,following:t&&t.following}}):void n.default.handleServerAction({type:p.action.RECEIVE_UNFOLLOW_LIST,data:{owner:s.owner,slug:s.slug,title:t.title},error:e})})},fetchList:function(e,t){var s=e+"-"+t;f[s]||(f[s]=!0,d.default.setIsFetching(!0),i.default.undocumented().readList({owner:e,slug:t},function(e,t){delete f[s],d.default.setIsFetching(!1),n.default.handleServerAction({type:p.action.RECEIVE_READER_LIST,data:t,error:e})}))},create:function(e){if(!e)throw new Error("List title is required");n.default.handleViewAction({type:p.action.CREATE_READER_LIST,data:{title:e}}),i.default.undocumented().readListsNew(e,function(e,t){n.default.handleServerAction({type:p.action.RECEIVE_CREATE_READER_LIST,data:t,error:e})})},update:function(e){if(!e.owner||!e.slug||!e.title)throw new Error("List owner, slug and title are required");n.default.handleViewAction({type:p.action.UPDATE_READER_LIST,data:e}),i.default.undocumented().readListsUpdate(e,function(e,t){n.default.handleServerAction({type:p.action.RECEIVE_UPDATE_READER_LIST,data:t,error:e})})},dismissNotice:function(e){if(!e)throw new Error("List ID is required");n.default.handleViewAction({type:p.action.DISMISS_READER_LIST_NOTICE,listId:e})}};e.exports=m},"./client/lib/reader-lists/constants.js":function(e,t,s){"use strict";e.exports.action={UPDATE_READER_LIST:"UPDATE_READER_LIST",RECEIVE_UPDATE_READER_LIST:"RECEIVE_UPDATE_READER_LIST",DISMISS_READER_LIST_NOTICE:"DISMISS_READER_LIST_NOTICE",RECEIVE_READER_LIST:"RECEIVE_READER_LIST",RECEIVE_READER_LISTS:"RECEIVE_READER_LISTS",FOLLOW_LIST:"FOLLOW_LIST",RECEIVE_FOLLOW_LIST:"RECEIVE_FOLLOW_LIST",RECEIVE_FOLLOW_LIST_ERROR:"RECEIVE_FOLLOW_LIST_ERROR",UNFOLLOW_LIST:"UNFOLLOW_LIST",RECEIVE_UNFOLLOW_LIST:"RECEIVE_UNFOLLOW_LIST",RECEIVE_UNFOLLOW_LIST_ERROR:"RECEIVE_UNFOLLOW_LIST_ERROR",CREATE_READER_LIST:"CREATE_READER_LIST",RECEIVE_CREATE_READER_LIST:"RECEIVE_CREATE_READER_LIST"}},"./client/lib/reader-lists/lists.js":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return decodeURIComponent(e)+"-"+decodeURIComponent(t)}function n(e){return"/read/list/"+encodeURIComponent(e.owner)+"/"+encodeURIComponent(e.slug)}function o(e){var t=u.get(e.owner,e.slug);e.URL=n(e),e.title=(0,_.decodeEntities)(e.title),(0,m.default)(t,e)||(y[a(e.owner,e.slug)]=e,u.emit("change"))}function i(e){T[e.ID]=!0,u.emit("change")}function l(e,t){var s=a(e,t),r=y[s];r||(r={owner:e,slug:t,title:t,ID:null,_state:"pending"},y[s]=r,u.emit("change"))}function d(){T={},u.emit("change")}var u,c=s("./node_modules/lodash/last.js"),p=r(c),f=s("./node_modules/lodash/isEqual.js"),m=r(f),_=s("./client/lib/formatting/index.js"),h=s("./client/dispatcher/index.js"),b=r(h),E=s("./client/lib/mixins/emitter/index.js"),g=r(E),L=s("./client/lib/reader-lists/constants.js"),y={},R=[],T={},j=!1;u={get:function(e,t){return y[a(e,t)]},getLastError:function(){return(0,p.default)(R)},isUpdated:function(e){return!!T[e]},isFetching:function(){return j},setIsFetching:function(e){j=e}},(0,g.default)(u),u.dispatchToken=b.default.register(function(e){var t=e.action;if(t){if(t.error)return void R.push(t.error);switch(t.type){case L.action.RECEIVE_READER_LIST:t.data&&t.data.list&&o(t.data.list);break;case L.action.RECEIVE_READER_LISTS:t.data&&t.data.lists&&t.data.lists.forEach(o);break;case L.action.UPDATE_READER_LIST:o(t.data);break;case L.action.RECEIVE_CREATE_READER_LIST:case L.action.RECEIVE_UPDATE_READER_LIST:o(t.data),i(t.data);break;case L.action.FOLLOW_LIST:l(t.data.owner,t.data.slug);break;case L.action.RECEIVE_FOLLOW_LIST:o(t.data);break;case L.action.DISMISS_READER_LIST_NOTICE:d()}}}),e.exports=u},"./client/lib/reader-lists/subscriptions.js":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{owner:e.owner,slug:e.slug}}function n(){h.sort(function(e,t){var s=_.get(e.owner,e.slug).title,r=_.get(t.owner,t.slug).title;return s.localeCompare(r)})}var o,i=s("./node_modules/lodash/reject.js"),l=r(i),d=s("./node_modules/lodash/isEqual.js"),u=r(d),c=s("./node_modules/lodash/find.js"),p=r(c),f=s("./client/dispatcher/index.js"),m=s("./client/lib/mixins/emitter/index.js"),_=s("./client/lib/reader-lists/lists.js"),h=null,b=[],E=!1;o={get:function(){return h&&h.map(function(e){return _.get(e.owner,e.slug)})},findByOwnerAndSlug:function(e,t){return(0,p.default)(h,{owner:e,slug:t})},isSubscribed:function(e,t){return!!this.findByOwnerAndSlug(e,t)},receiveLists:function(e){e=e.map(a),(0,u.default)(e,h)||(h=e,o.emit("change"))},followList:function(e){return e=a(e),(0,p.default)(h,e)?e:(h.push(e),n(),o.emit("change"),e)},unfollowList:function(e){var t=a(e),s=(0,l.default)(h,t);s.length!==h.length&&(h=s,n(),o.emit("change"))},receiveCreateReaderList:function(e){e=o.followList(e),o.emit("create",e)},isFetching:function(){return E},setIsFetching:function(e){E=e,o.emitChange()}},m(o),o.dispatchToken=f.register(function(e){var t=e.action;if(t){if(f.waitFor([_.dispatchToken]),t.error)return void b.push(t.error);switch(t.type){case"RECEIVE_READER_LISTS":o.receiveLists(t.data.lists);break;case"FOLLOW_LIST":case"RECEIVE_FOLLOW_LIST":o.followList(t.data);break;case"RECEIVE_FOLLOW_LIST_ERROR":o.unfollowList(t.data);break;case"UNFOLLOW_LIST":case"RECEIVE_UNFOLLOW_LIST":o.unfollowList(t.data);break;case"RECEIVE_UNFOLLOW_LIST_ERROR":o.followList(t.data);break;case"RECEIVE_CREATE_READER_LIST":o.receiveCreateReaderList(t.data)}}}),e.exports=o},"./client/reader/sidebar/expandable-add-form.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandableSidebarAddForm=void 0;var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/lodash/identity.js"),_=r(m),h=s("./node_modules/lodash/noop.js"),b=r(h),E=s("./node_modules/react/react.js"),g=r(E),L=s("./node_modules/classnames/index.js"),y=r(L),R=s("./node_modules/i18n-calypso/index.js"),T=s("./node_modules/gridicons/build/index.js"),j=r(T),v=s("./client/components/button/index.jsx"),C=r(v),S=t.ExpandableSidebarAddForm=function(e){function t(){var e,s,r,a;(0,i.default)(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return s=r=(0,c.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),r.state={isAdding:!1},r.toggleAdd=function(){r.state.isAdding||(r.refs.menuAddInput.focus(),r.props.onAddClick()),r.setState({isAdding:!r.state.isAdding})},r.handleAddKeyDown=function(e){var t=r.refs.menuAddInput.value;13===e.keyCode&&t.length>0&&(e.preventDefault(),r.props.onAddSubmit(t),r.refs.menuAddInput.value="",r.toggleAdd())},a=s,(0,c.default)(r,a)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.translate,s=e.addLabel,r=e.addPlaceholder,a=(0,y.default)("sidebar__menu-add-item",{"is-add-open":this.state.isAdding});return g.default.createElement("div",{className:a},this.props.hideAddButton?null:g.default.createElement(C.default,{compact:!0,className:"sidebar__menu-add-button",onClick:this.toggleAdd},t("Add")),g.default.createElement("div",{className:"sidebar__menu-add"},g.default.createElement("input",{"aria-label":s,className:"sidebar__menu-add-input",type:"text",placeholder:r,ref:"menuAddInput",onKeyDown:this.handleAddKeyDown}),g.default.createElement(j.default,{icon:"cross-small",onClick:this.toggleAdd})))}}]),t}(E.Component);S.propTypes={addLabel:E.PropTypes.string,addPlaceholder:E.PropTypes.string,onAddSubmit:E.PropTypes.func,onAddClick:E.PropTypes.func,hideAddButton:E.PropTypes.bool,translate:E.PropTypes.func},S.defaultProps={onAddSubmit:b.default,onAddClick:b.default,translate:_.default},t.default=(0,R.localize)(S)},"./client/reader/sidebar/expandable-heading.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s("./node_modules/lodash/noop.js"),n=r(a),o=s("./node_modules/react/react.js"),i=r(o),l=s("./node_modules/gridicons/build/index.js"),d=r(l),u=s("./client/layout/sidebar/heading.jsx"),c=r(u),p=s("./client/components/count/index.jsx"),f=r(p),m=function(e){var t=e.title,s=e.count,r=e.onClick;return i.default.createElement(c.default,{onClick:r},i.default.createElement(d.default,{icon:"chevron-down"}),i.default.createElement("span",null,t),i.default.createElement(f.default,{count:s}))};m.propTypes={title:i.default.PropTypes.string.isRequired,count:i.default.PropTypes.number,onClick:i.default.PropTypes.func},m.defaultProps={onClick:n.default},t.default=m,e.exports=t.default},"./client/reader/sidebar/expandable.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandableSidebarMenu=void 0;var a=s("./node_modules/react/react.js"),n=r(a),o=s("./node_modules/classnames/index.js"),i=r(o),l=s("./client/layout/sidebar/menu.jsx"),d=r(l),u=s("./client/reader/sidebar/expandable-heading.jsx"),c=r(u),p=s("./client/reader/sidebar/expandable-add-form.jsx"),f=r(p),m=t.ExpandableSidebarMenu=function(e){var t=e.className,s=e.expanded,r=e.title,a=e.count,o=e.onClick,l=e.hideAddButton,u=e.addLabel,p=e.addPlaceholder,m=e.onAddClick,_=e.onAddSubmit,h=(0,i.default)(t,{"is-toggle-open":!!s,"is-togglable":!0});return n.default.createElement(d.default,{className:h},n.default.createElement(c.default,{title:r,count:a,onClick:o}),n.default.createElement(f.default,{hideAddButton:l,addLabel:u,addPlaceholder:p,onAddClick:m,onAddSubmit:_}),n.default.createElement("ul",{className:"sidebar__menu-list"},e.children))};m.propTypes={title:n.default.PropTypes.oneOfType([n.default.PropTypes.string,n.default.PropTypes.element]).isRequired,count:n.default.PropTypes.number,addLabel:n.default.PropTypes.string,addPlaceholder:n.default.PropTypes.string,onAddSubmit:n.default.PropTypes.func,onAddClick:n.default.PropTypes.func,onClick:n.default.PropTypes.func,hideAddButton:n.default.PropTypes.bool},m.defaultProps={expanded:!1,hideAddButton:!1},t.default=m},"./client/reader/sidebar/helper.js":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pathStartsWithOneOf=t.itemLinkClassStartsWithOneOf=t.itemLinkClass=void 0;var a=s("./node_modules/lodash/startsWith.js"),n=r(a),o=s("./node_modules/lodash/some.js"),i=r(o),l=s("./node_modules/lodash/assign.js"),d=r(l),u=s("./node_modules/classnames/index.js"),c=r(u),p={itemLinkClass:function(e,t,s){var r=decodeURIComponent(t).split("?")[0].replace(/\/manage$/,"").toLowerCase(),a=decodeURIComponent(e).replace(/\/manage$/,"").toLowerCase(),n=r===a,o=!1;"/"!==a||n||(n="/following"===r);var i=t.split("?")[0];return n&&i.match(/\/manage$/)&&(o=!0),(0,c.default)((0,d.default)({selected:n,"is-action-button-selected":o},s))},itemLinkClassStartsWithOneOf:function(e,t,s){var r=this.pathStartsWithOneOf(e,t);return(0,c.default)((0,d.default)({selected:r},s))},pathStartsWithOneOf:function(e,t){return(0,i.default)(e,function(e){return(0,n.default)(t.toLowerCase(),e.toLowerCase())})}};t.default=p;var f=p.itemLinkClass,m=p.itemLinkClassStartsWithOneOf,_=p.pathStartsWithOneOf;t.itemLinkClass=f,t.itemLinkClassStartsWithOneOf=m,t.pathStartsWithOneOf=_},"./client/reader/sidebar/index.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderAppPromo=t.ReaderSidebar=void 0;var a=s("./node_modules/lodash/every.js"),n=r(a),o=s("./node_modules/lodash/identity.js"),i=r(o),l=s("./node_modules/lodash/startsWith.js"),d=r(l),u=s("./node_modules/lodash/defer.js"),c=r(u),p=s("./node_modules/react/react.js"),f=r(p),m=s("./node_modules/create-react-class/index.js"),_=r(m),h=s("./node_modules/component-closest/index.js"),b=r(h),E=s("./node_modules/page/index.js"),g=r(E),L=s("./node_modules/url/url.js"),y=r(L),R=s("./node_modules/redux/lib/index.js"),T=s("./node_modules/react-redux/es/index.js"),j=s("./node_modules/store/store.js"),v=r(j),C=s("./node_modules/gridicons/build/index.js"),S=r(C),k=s("./client/lib/reader-lists/lists.js"),w=r(k),I=s("./client/layout/sidebar/index.jsx"),A=r(I),O=s("./client/layout/sidebar/footer.jsx"),x=r(O),P=s("./client/layout/sidebar/heading.jsx"),D=r(P),N=s("./client/layout/sidebar/menu.jsx"),U=r(N),M=s("./client/layout/sidebar/region.jsx"),F=r(M),V=s("./client/reader/discover/helper.js"),W=s("./client/reader/sidebar/reader-sidebar-tags/index.jsx"),q=r(W),G=s("./client/reader/sidebar/reader-sidebar-lists/index.jsx"),z=r(G),B=s("./client/reader/sidebar/reader-sidebar-teams/index.jsx"),Q=r(B),K=s("./client/reader/sidebar/helper.js"),$=r(K),H=s("./client/state/ui/reader/sidebar/actions.js"),J=s("./client/state/reader/lists/selectors.js"),X=s("./client/state/selectors/get-reader-teams.js"),Y=r(X),Z=s("./client/components/data/query-reader-lists/index.jsx"),ee=r(Z),te=s("./client/components/data/query-reader-teams/index.jsx"),se=r(te),re=s("./client/lib/mixins/data-observe/index.js"),ae=r(re),ne=s("./client/config/index.js"),oe=r(ne),ie=s("./client/lib/user-settings/index.js"),le=r(ie),de=s("./client/blocks/app-promo/index.jsx"),ue=r(de),ce=s("./client/state/ui/layout-focus/actions.js"),pe=s("./client/lib/user/utils.js"),fe=r(pe),me=s("./client/lib/viewport/index.js"),_e=r(me),he=s("./node_modules/i18n-calypso/index.js"),be=s("./client/reader/route/index.js"),Ee=s("./client/reader/lib/teams/index.js"),ge=s("./client/reader/stats.js"),Le=t.ReaderSidebar=(0,_.default)({displayName:"ReaderSidebar",mixins:[(0,ae.default)("userSettings")],getInitialState:function(){return{}},componentDidMount:function(){this.openExpandableMenuForCurrentTagOrList()},handleClick:function(e){!e.isDefaultPrevented()&&(0,b.default)(e.target,"a,span",!0)&&(this.props.setNextLayoutFocus("content"),window.scrollTo(0,0))},highlightNewList:function(e){e=w.default.get(e.owner,e.slug),window.location.href=y.default.resolve("https://wordpress.com",e.URL+"/edit")},highlightNewTag:function(e){var t=(0,be.getTagStreamUrl)(e);t!==g.default.current&&(0,c.default)(function(){(0,g.default)(t),window.scrollTo(0,0)})},openExpandableMenuForCurrentTagOrList:function(){var e=this.props.path.split("/");if((0,d.default)(this.props.path,"/tag/")){var t=e[2];t&&(this.props.isTagsOpen||(this.props.toggleTagsVisibility(),this.setState({currentTag:t})))}if((0,d.default)(this.props.path,"/read/list/")){var s=e[3],r=e[4];s&&r&&(this.props.isListsOpen||(this.props.toggleListsVisibility(),this.setState({currentListOwner:s,currentListSlug:r})))}},handleReaderSidebarFollowedSitesClicked:function(){(0,ge.recordAction)("clicked_reader_sidebar_followed_sites"),(0,ge.recordGaEvent)("Clicked Reader Sidebar Followed Sites"),(0,ge.recordTrack)("calypso_reader_sidebar_followed_sites_clicked")},handleReaderSidebarFollowManageClicked:function(){(0,ge.recordAction)("clicked_reader_sidebar_follow_manage"),(0,ge.recordGaEvent)("Clicked Reader Sidebar Follow Manage"),(0,ge.recordTrack)("calypso_reader_sidebar_follow_manage_clicked")},handleReaderSidebarConversationsClicked:function(){(0,ge.recordAction)("clicked_reader_sidebar_conversations"),(0,ge.recordGaEvent)("Clicked Reader Sidebar Conversations"),(0,ge.recordTrack)("calypso_reader_sidebar_conversations_clicked")},handleReaderSidebarA8cConversationsClicked:function(){(0,ge.recordAction)("clicked_reader_sidebar_a8c_conversations"),(0,ge.recordGaEvent)("Clicked Reader Sidebar A8C Conversations"),(0,ge.recordTrack)("calypso_reader_sidebar_a8c_conversations_clicked")},handleReaderSidebarDiscoverClicked:function(){(0,ge.recordAction)("clicked_reader_sidebar_discover"),(0,ge.recordGaEvent)("Clicked Reader Sidebar Discover"),(0,ge.recordTrack)("calypso_reader_sidebar_discover_clicked")},handleReaderSidebarSearchClicked:function(){(0,ge.recordAction)("clicked_reader_sidebar_search"),(0,ge.recordGaEvent)("Clicked Reader Sidebar Search"),(0,ge.recordTrack)("calypso_reader_sidebar_search_clicked")},handleReaderSidebarLikeActivityClicked:function(){(0,ge.recordAction)("clicked_reader_sidebar_like_activity"),(0,ge.recordGaEvent)("Clicked Reader Sidebar Like Activity"),(0,ge.recordTrack)("calypso_reader_sidebar_like_activity_clicked")},render:function(){return f.default.createElement(A.default,{onClick:this.handleClick},f.default.createElement(F.default,null,f.default.createElement(U.default,null,f.default.createElement(D.default,null,this.props.translate("Streams")),f.default.createElement("ul",null,f.default.createElement("li",{className:$.default.itemLinkClass("/",this.props.path,{"sidebar-streams__following":!0})},f.default.createElement("a",{href:"/",onClick:this.handleReaderSidebarFollowedSitesClicked},f.default.createElement(S.default,{icon:"checkmark-circle",size:24}),f.default.createElement("span",{className:"menu-link-text"},this.props.translate("Followed Sites"))),f.default.createElement("a",{href:"/following/manage",onClick:this.handleReaderSidebarFollowManageClicked,className:"sidebar__button"},this.props.translate("Manage"))),oe.default.isEnabled("reader/conversations")&&f.default.createElement("li",{className:$.default.itemLinkClass("/read/conversations",this.props.path,{"sidebar-streams__conversations":!0})},f.default.createElement("a",{href:"/read/conversations",onClick:this.handleReaderSidebarConversationsClicked},f.default.createElement(S.default,{icon:"chat",size:24}),f.default.createElement("span",{className:"menu-link-text"},this.props.translate("Conversations")))),f.default.createElement(Q.default,{teams:this.props.teams,path:this.props.path}),oe.default.isEnabled("reader/conversations")&&(0,Ee.isAutomatticTeamMember)(this.props.teams)&&f.default.createElement("li",{className:$.default.itemLinkClass("/read/conversations/a8c",this.props.path,{"sidebar-streams__conversations":!0})},f.default.createElement("a",{href:"/read/conversations/a8c",onClick:this.handleReaderSidebarA8cConversationsClicked},f.default.createElement("svg",{className:"gridicon gridicon-automattic-conversations",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},f.default.createElement("path",{d:"M12.2 7.1c.5.3.6 1 .3 1.4L10 12.4c-.3.5-1 .7-1.4.3-.6-.3-.8-1-.4-1.5l2.5-3.9c.3-.4 1-.5 1.5-.2zM17.3 21.2h2.8c1 0 1.9-.8 1.9-1.9v-4.7c0-1-.8-1.9-1.9-1.9h-7.6c-1 .1-1.7.9-1.7 1.9v4.7c0 1 .8 1.8 1.7 1.9h2V24l2.8-2.8z"}),f.default.createElement("path",{d:"M8.8 15.2c-2.7-.7-4.1-2.9-4.1-5.2 0-5.8 5.8-5.7 5.8-5.7 5.8 0 5.8 5.7 5.8 5.7 0 .3 0 .6-.1.8H19v-.7C19 1.6 10.4 2 10.4 2c-8.6 0-8.5 8.1-8.5 8.1 0 3.5 2.7 6.8 6.9 7.5v-2.4z"})),f.default.createElement("span",{className:"menu-link-text"},"A8C Conversations"))),(0,V.isDiscoverEnabled)()?f.default.createElement("li",{className:$.default.itemLinkClass("/discover",this.props.path,{"sidebar-streams__discover":!0})},f.default.createElement("a",{href:"/discover",onClick:this.handleReaderSidebarDiscoverClicked},f.default.createElement(S.default,{icon:"my-sites"}),f.default.createElement("span",{className:"menu-link-text"},this.props.translate("Discover")))):null,oe.default.isEnabled("reader/search")&&f.default.createElement("li",{className:$.default.itemLinkClass("/read/search",this.props.path,{"sidebar-streams__search":!0})},f.default.createElement("a",{href:"/read/search",onClick:this.handleReaderSidebarSearchClicked},f.default.createElement(S.default,{icon:"search",size:24}),f.default.createElement("span",{className:"menu-link-text"},this.props.translate("Search")))),f.default.createElement("li",{className:$.default.itemLinkClass("/activities/likes",this.props.path,{"sidebar-activity__likes":!0})},f.default.createElement("a",{href:"/activities/likes",onClick:this.handleReaderSidebarLikeActivityClicked},f.default.createElement(S.default,{icon:"star",size:24}),f.default.createElement("span",{className:"menu-link-text"},this.props.translate("My Likes")))))),f.default.createElement(ee.default,null),f.default.createElement(se.default,null),this.props.subscribedLists&&this.props.subscribedLists.length?f.default.createElement(z.default,{lists:this.props.subscribedLists,path:this.props.path,isOpen:this.props.isListsOpen,onClick:this.props.toggleListsVisibility,currentListOwner:this.state.currentListOwner,currentListSlug:this.state.currentListSlug}):null,f.default.createElement(q.default,{tags:this.props.followedTags,path:this.props.path,isOpen:this.props.isTagsOpen,onClick:this.props.toggleTagsVisibility,onFollowTag:this.highlightNewTag,currentTag:this.state.currentTag})),this.props.shouldRenderAppPromo&&f.default.createElement("div",{className:"sidebar__app-promo"},f.default.createElement(ue.default,{location:"reader",locale:fe.default.getLocaleSlug()})),f.default.createElement(x.default,null))}});Le.defaultProps={translate:i.default};var ye=t.shouldRenderAppPromo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null===le.default.getSetting(" is_desktop_app_user"),s=e.isDesktopPromoDisabled,r=void 0===s?v.default.get("desktop_promo_disabled"):s,a=e.isViewportMobile,o=void 0===a?_e.default.isMobile():a,i=e.isUserLocaleEnglish,l=void 0===i?"en"===fe.default.getLocaleSlug():i,d=e.isDesktopPromoConfiguredToRun,u=void 0===d?oe.default.isEnabled("desktop-promo"):d,c=e.isUserDesktopAppUser,p=void 0===c?t||le.default.getSetting("is_desktop_app_user"):c,f=e.isUserOnChromeOs,m=void 0===f?/\bCrOS\b/.test(navigator.userAgent):f;return(0,n.default)([!r,l,!o,!m,u,!p])};t.default=(0,T.connect)(function(e){return{isListsOpen:e.ui.reader.sidebar.isListsOpen,isTagsOpen:e.ui.reader.sidebar.isTagsOpen,subscribedLists:(0,J.getSubscribedLists)(e),shouldRenderAppPromo:ye(),teams:(0,Y.default)(e)}},function(e){return(0,R.bindActionCreators)({toggleListsVisibility:H.toggleReaderSidebarLists,toggleTagsVisibility:H.toggleReaderSidebarTags,setNextLayoutFocus:ce.setNextLayoutFocus},e)})((0,he.localize)(Le))},"./client/reader/sidebar/reader-sidebar-lists/index.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarLists=void 0;var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/lodash/identity.js"),_=r(m),h=s("./node_modules/react/react.js"),b=r(h),E=s("./node_modules/i18n-calypso/index.js"),g=s("./client/reader/sidebar/expandable.jsx"),L=r(g),y=s("./client/reader/sidebar/reader-sidebar-lists/list.jsx"),R=r(y),T=s("./client/lib/reader-lists/actions.js"),j=r(T),v=s("./client/reader/stats.js"),C=t.ReaderSidebarLists=function(e){function t(){var e,s,r,a;(0,i.default)(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return s=r=(0,c.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),r.createList=function(e){(0,v.recordAction)("add_list"),(0,v.recordGaEvent)("Clicked Create List"),(0,v.recordTrack)("calypso_reader_create_list_clicked"),j.default.create(e)},r.handleAddClick=function(){(0,v.recordAction)("add_list_open_input"),(0,v.recordGaEvent)("Clicked Add List to Open Input"),(0,v.recordTrack)("calypso_reader_add_list_clicked")},a=s,(0,c.default)(r,a)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.translate,s=e.lists,r=e.count,a=e.isOpen,n=e.onClick,o=s?s.length:0,i=!r;return b.default.createElement(L.default,{expanded:a,title:t("Lists"),count:o,addLabel:t("New list name"),addPlaceholder:t("Give your list a name"),onAddClick:this.handleAddClick,onAddSubmit:this.createList,onClick:n,hideAddButton:i},b.default.createElement(R.default,this.props))}}]),t}(h.Component);C.propTypes={lists:h.PropTypes.array,path:h.PropTypes.string.isRequired,isOpen:h.PropTypes.bool,onClick:h.PropTypes.func,currentListOwner:h.PropTypes.string,currentListSlug:h.PropTypes.string,translate:h.PropTypes.func},C.defaultProps={translate:_.default},t.default=(0,E.localize)(C)},"./client/reader/sidebar/reader-sidebar-lists/list-item.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarListsListItem=void 0;var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/lodash/last.js"),_=r(m),h=s("./node_modules/react/react.js"),b=r(h),E=s("./node_modules/react-dom/index.js"),g=r(E),L=s("./node_modules/classnames/index.js"),y=r(L),R=s("./node_modules/i18n-calypso/index.js"),T=s("./client/reader/sidebar/helper.js"),j=r(T),v=s("./client/reader/stats.js"),C=t.ReaderSidebarListsListItem=function(e){
function t(){var e,s,r,a;(0,i.default)(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return s=r=(0,c.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),r.handleListSidebarClick=function(){(0,v.recordAction)("clicked_reader_sidebar_list_item"),(0,v.recordGaEvent)("Clicked Reader Sidebar List Item"),(0,v.recordTrack)("calypso_reader_sidebar_list_item_clicked",{list:decodeURIComponent(r.props.list.slug)})},a=s,(0,c.default)(r,a)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){if(this.props.list.slug===this.props.currentListSlug&&this.props.list.owner===this.props.currentListOwner){var e=g.default.findDOMNode(this);e.scrollIntoView()}}},{key:"render",value:function(){var e=this.props,t=e.list,s=e.translate,r="/read/list/"+t.owner+"/"+t.slug,a=[r+"/tags",r+"/edit",r+"/sites"],n=(0,_.default)(this.props.path.split("/")),o=n&&n.toLowerCase()===t.slug.toLowerCase()&&j.default.pathStartsWithOneOf([r],this.props.path),i=j.default.pathStartsWithOneOf(a,this.props.path),l=(0,y.default)({selected:o||i});return b.default.createElement("li",{className:l,key:t.ID},b.default.createElement("a",{className:"sidebar__menu-item-label",href:r,onClick:this.handleListSidebarClick,title:s("View list '%(currentListName)s'",{args:{currentListName:t.title}})},b.default.createElement("div",{className:"sidebar__menu-item-listname"},t.title)))}}]),t}(h.Component);C.propTypes={list:b.default.PropTypes.object.isRequired,path:b.default.PropTypes.string.isRequired,currentListOwner:b.default.PropTypes.string,currentListSlug:b.default.PropTypes.string},t.default=(0,R.localize)(C)},"./client/reader/sidebar/reader-sidebar-lists/list.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarListsList=void 0;var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/lodash/map.js"),_=r(m),h=s("./node_modules/lodash/identity.js"),b=r(h),E=s("./node_modules/react/react.js"),g=r(E),L=s("./node_modules/i18n-calypso/index.js"),y=s("./client/reader/sidebar/reader-sidebar-lists/list-item.jsx"),R=r(y),T=t.ReaderSidebarListsList=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"renderItems",value:function(){var e=this.props,t=e.currentListOwner,s=e.currentListSlug,r=e.path;return(0,_.default)(this.props.lists,function(e){return g.default.createElement(R.default,{key:e.ID,list:e,path:r,currentListOwner:t,currentListSlug:s})})}},{key:"render",value:function(){var e=this.props,t=e.translate,s=e.lists;return s&&0!==s.length?g.default.createElement("div",null,this.renderItems()):g.default.createElement("li",{key:"empty",className:"sidebar__menu-empty"},t("Collect sites together by adding a list."))}}]),t}(g.default.Component);T.propTypes={lists:g.default.PropTypes.array,path:g.default.PropTypes.string.isRequired,currentListOwner:g.default.PropTypes.string,currentListSlug:g.default.PropTypes.string,translate:g.default.PropTypes.func},T.defaultProps={translate:b.default},t.default=(0,L.localize)(T)},"./client/reader/sidebar/reader-sidebar-tags/index.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarTags=void 0;var a=s("./node_modules/babel-runtime/helpers/extends.js"),n=r(a),o=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/createClass.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=r(p),m=s("./node_modules/babel-runtime/helpers/inherits.js"),_=r(m),h=s("./node_modules/lodash/identity.js"),b=r(h),E=s("./node_modules/react/react.js"),g=r(E),L=s("./node_modules/react-redux/es/index.js"),y=s("./node_modules/component-closest/index.js"),R=r(y),T=s("./node_modules/i18n-calypso/index.js"),j=s("./client/reader/sidebar/expandable.jsx"),v=r(j),C=s("./client/reader/sidebar/reader-sidebar-tags/list.jsx"),S=r(C),k=s("./client/components/data/query-reader-followed-tags/index.jsx"),w=r(k),I=s("./client/state/selectors/get-reader-followed-tags.js"),A=r(I),O=s("./client/state/reader/tags/items/actions.js"),x=s("./client/reader/stats.js"),P=t.ReaderSidebarTags=function(e){function t(){var e,s,r,a;(0,d.default)(this,t);for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];return s=r=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(o))),r.followTag=function(e){r.props.followTag(decodeURIComponent(e)),(0,x.recordAction)("followed_topic"),(0,x.recordGaEvent)("Clicked Follow Topic",e),(0,x.recordTrack)("calypso_reader_reader_tag_followed",{tag:e}),r.props.onFollowTag(e)},r.unfollowTag=function(e){var t=(0,R.default)(e.target,"[data-tag-slug]",!0);e.preventDefault();var s=t&&t.dataset&&t.dataset.tagSlug;s&&((0,x.recordAction)("unfollowed_topic"),(0,x.recordGaEvent)("Clicked Unfollow Topic",s),(0,x.recordTrack)("calypso_reader_reader_tag_unfollowed",{tag:s}),r.props.unfollowTag(decodeURIComponent(s)))},r.handleAddClick=function(){(0,x.recordAction)("follow_topic_open_input"),(0,x.recordGaEvent)("Clicked Add Topic to Open Input"),(0,x.recordTrack)("calypso_reader_add_tag_clicked")},a=s,(0,f.default)(r,a)}return(0,_.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.tags,s=e.isOpen,r=e.translate,a=e.onClick,o=t?t.length:0;return g.default.createElement("div",null,!this.props.tags&&g.default.createElement(w.default,null),g.default.createElement(v.default,{expanded:s,title:r("Tags"),count:o,addLabel:r("New tag name"),addPlaceholder:r("Add any tag"),onAddSubmit:this.followTag,onAddClick:this.handleAddClick,onClick:a},g.default.createElement(S.default,(0,n.default)({},this.props,{onUnfollow:this.unfollowTag}))))}}]),t}(E.Component);P.propTypes={tags:E.PropTypes.array,path:E.PropTypes.string.isRequired,isOpen:E.PropTypes.bool,onClick:E.PropTypes.func,currentTag:E.PropTypes.string,onFollowTag:E.PropTypes.func,translate:E.PropTypes.func},P.defaultProps={translate:b.default},t.default=(0,L.connect)(function(e){return{tags:(0,A.default)(e)}},{followTag:O.requestFollowTag,unfollowTag:O.requestUnfollowTag})((0,T.localize)(P))},"./client/reader/sidebar/reader-sidebar-tags/list-item.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarTagsListItem=void 0;var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/lodash/identity.js"),_=r(m),h=s("./node_modules/react/react.js"),b=r(h),E=s("./node_modules/react-dom/index.js"),g=r(E),L=s("./node_modules/i18n-calypso/index.js"),y=s("./node_modules/gridicons/build/index.js"),R=r(y),T=s("./client/reader/sidebar/helper.js"),j=r(T),v=s("./client/reader/stats.js"),C=t.ReaderSidebarTagsListItem=function(e){function t(){var e,s,r,a;(0,i.default)(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return s=r=(0,c.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),r.handleTagSidebarClick=function(){(0,v.recordAction)("clicked_reader_sidebar_tag_item"),(0,v.recordGaEvent)("Clicked Reader Sidebar Tag Item"),(0,v.recordTrack)("calypso_reader_sidebar_tag_item_clicked",{tag:decodeURIComponent(r.props.tag.slug)})},a=s,(0,c.default)(r,a)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){if(this.props.currentTag&&this.props.tag.slug===this.props.currentTag){var e=g.default.findDOMNode(this);e.scrollIntoView()}}},{key:"render",value:function(){var e=this.props,t=e.tag,s=e.path,r=e.onUnfollow,a=e.translate,n=t.displayName||t.slug;return b.default.createElement("li",{key:t.id,className:j.default.itemLinkClass("/tag/"+t.slug,s,{"sidebar-dynamic-menu__tag":!0})},b.default.createElement("a",{className:"sidebar__menu-item-label",href:t.url,onClick:this.handleTagSidebarClick,title:a("View tag '%(currentTagName)s'",{args:{currentTagName:n}})},b.default.createElement("div",{className:"sidebar__menu-item-tagname"},n)),"pending"!==t.id&&b.default.createElement("button",{className:"sidebar__menu-action","data-tag-slug":t.slug,onClick:r,title:a("Unfollow tag '%(currentTagName)s'",{args:{currentTagName:n}})},b.default.createElement(R.default,{icon:"cross-small"}),b.default.createElement("span",{className:"sidebar__menu-action-label"},a("Unfollow"))))}}]),t}(h.Component);C.propTypes={tag:b.default.PropTypes.object.isRequired,onUnfollow:b.default.PropTypes.func.isRequired,path:b.default.PropTypes.string.isRequired,currentTag:b.default.PropTypes.string,translate:b.default.PropTypes.func},C.defaultProps={translate:_.default},t.default=(0,L.localize)(C)},"./client/reader/sidebar/reader-sidebar-tags/list.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarTagsList=void 0;var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/lodash/map.js"),_=r(m),h=s("./node_modules/lodash/identity.js"),b=r(h),E=s("./node_modules/react/react.js"),g=r(E),L=s("./node_modules/i18n-calypso/index.js"),y=s("./client/reader/sidebar/reader-sidebar-tags/list-item.jsx"),R=r(y),T=t.ReaderSidebarTagsList=function(e){function t(){var e,s,r,a;(0,i.default)(this,t);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return s=r=(0,c.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),r.renderItems=function(){var e=r.props,t=e.path,s=e.onUnfollow,a=e.currentTag,n=e.tags;return(0,_.default)(n,function(e){return g.default.createElement(R.default,{key:e.id,tag:e,path:t,onUnfollow:s,currentTag:a})})},a=s,(0,c.default)(r,a)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.tags,s=e.translate;return t&&0!==t.length?g.default.createElement("div",null,this.renderItems()):g.default.createElement("li",{key:"empty",className:"sidebar__menu-empty"},s("Find relevant posts by adding a tag."))}}]),t}(E.Component);T.propTypes={tags:g.default.PropTypes.array,onUnfollow:g.default.PropTypes.func.isRequired,path:g.default.PropTypes.string.isRequired,currentTag:g.default.PropTypes.string,translate:g.default.PropTypes.func},T.defaultProps={translate:b.default},t.default=(0,L.localize)(T)},"./client/reader/sidebar/reader-sidebar-teams/index.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarTeams=void 0;var a=s("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=r(a),o=s("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=r(o),l=s("./node_modules/babel-runtime/helpers/createClass.js"),d=r(l),u=s("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=r(u),p=s("./node_modules/babel-runtime/helpers/inherits.js"),f=r(p),m=s("./node_modules/lodash/map.js"),_=r(m),h=s("./node_modules/react/react.js"),b=r(h),E=s("./client/reader/sidebar/reader-sidebar-teams/list-item.jsx"),g=r(E),L=function(e,t){return(0,_.default)(e,function(e){return b.default.createElement(g.default,{key:e.slug,team:e,path:t})})},y=t.ReaderSidebarTeams=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return this.props.teams?b.default.createElement("div",null,L(this.props.teams,this.props.path)):null}}]),t}(h.Component);y.propTypes={teams:b.default.PropTypes.array,path:b.default.PropTypes.string.isRequired},t.default=y},"./client/reader/sidebar/reader-sidebar-teams/list-item.jsx":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReaderSidebarTeamsListItem=void 0;var a=s("./node_modules/react/react.js"),n=r(a),o=s("./node_modules/i18n-calypso/index.js"),i=s("./client/reader/sidebar/helper.js"),l=r(i),d=s("./client/reader/stats.js"),u=function(e){return function(){(0,d.recordAction)("clicked_reader_sidebar_teams_list_item"),(0,d.recordGaEvent)("Clicked Reader Sidebar Teams List Item"),(0,d.recordTrack)("calypso_reader_sidebar_teams_list_item_clicked",{team:decodeURIComponent(e.slug)})}},c=t.ReaderSidebarTeamsListItem=function(e){var t=e.path,s=e.team,r=e.translate,a="/read/"+encodeURIComponent(s.slug);return n.default.createElement("li",{key:s.slug,className:l.default.itemLinkClass(a,t,{"sidebar-streams__team":!0})},n.default.createElement("a",{href:a,onClick:u(s),title:r("View team '%(currentTeamName)s'",{args:{currentTeamName:s.title}})},n.default.createElement("svg",{className:"gridicon gridicon-"+s.slug,width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.default.createElement("path",{d:"M12 21.5c-6.1 0-10-4.4-10-9V12c0-4.6 4-9 10-9 6.1 0 10.1 4.3 10.1 9v.6c0 4.5-3.9 8.9-10.1 8.9zm6.9-9.5c0-3.3-2.4-6.3-6.8-6.3s-6.8 3-6.8 6.3v.4c0 3.3 2.4 6.4 6.8 6.4s6.8-3 6.8-6.4V12z"}),n.default.createElement("path",{d:"M14.1 8.5c.6.4.7 1.2.4 1.7l-2.9 4.6c-.4.6-1.2.8-1.7.4-.7-.4-.9-1.2-.5-1.8l2.9-4.6c.4-.5 1.2-.7 1.8-.3z"})),n.default.createElement("span",{className:"menu-link-text"},s.title)))};c.propTypes={team:n.default.PropTypes.object.isRequired,path:n.default.PropTypes.string.isRequired},t.default=(0,o.localize)(c)},"./client/state/reader/lists/actions.js":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{type:L.READER_LISTS_RECEIVE,lists:e}}function n(){return function(e){return e({type:L.READER_LISTS_REQUEST}),new b.default(function(e,t){g.default.undocumented().readLists(function(s,r){s?t(s):e(r)})}).then(function(t){e(a(t.lists)),e({type:L.READER_LISTS_REQUEST_SUCCESS,data:t})}).catch(function(t){e({type:L.READER_LISTS_REQUEST_FAILURE,error:t})})}}function o(e,t){return function(s){s({type:L.READER_LIST_REQUEST});var r=f(e,t);return new b.default(function(s,a){g.default.undocumented().readList(r,function(r,n){if(r){var o={error:r,owner:e,slug:t};a(o)}else s(n)})}).then(function(e){s({type:L.READER_LIST_REQUEST_SUCCESS,data:e})}).catch(function(e){s({type:L.READER_LIST_REQUEST_FAILURE,error:e.error,owner:e.owner,slug:e.slug})})}}function i(e,t){return function(s){s({type:L.READER_LISTS_FOLLOW,owner:e,slug:t});var r=f(e,t);return new b.default(function(e,t){g.default.undocumented().followList(r,function(s,r){s?t(s):e(r)})}).then(function(e){s(a([e.list])),s({type:L.READER_LISTS_FOLLOW_SUCCESS,data:e})}).catch(function(e){s({type:L.READER_LISTS_FOLLOW_FAILURE,error:e})})}}function l(e,t){return function(s){s({type:L.READER_LISTS_UNFOLLOW,owner:e,slug:t});var r=f(e,t);return new b.default(function(e,t){g.default.undocumented().unfollowList(r,function(s,r){s?t(s):e(r)})}).then(function(e){s({type:L.READER_LISTS_UNFOLLOW_SUCCESS,data:e})}).catch(function(e){s({type:L.READER_LISTS_UNFOLLOW_FAILURE,error:e})})}}function d(e){if(!(e&&e.owner&&e.slug&&e.title))throw new Error("List owner, slug and title are required");var t=decodeURIComponent(e.owner),s=decodeURIComponent(e.slug),r=(0,_.default)({},e,{owner:t,slug:s});return function(t){return t({type:L.READER_LIST_UPDATE,list:e}),new b.default(function(s,a){g.default.undocumented().readListsUpdate(r,function(r,n){r?(t({type:L.READER_LIST_UPDATE_FAILURE,list:e,error:r}),a(r)):(t({type:L.READER_LIST_UPDATE_SUCCESS,list:e,data:n}),s())})})}}function u(e){return function(t){t({type:L.READER_LIST_DISMISS_NOTICE,listId:e})}}function c(e,t){return function(s){s({type:L.READER_LIST_UPDATE_TITLE,listId:e,title:t})}}function p(e,t){return function(s){s({type:L.READER_LIST_UPDATE_DESCRIPTION,listId:e,description:t})}}function f(e,t){var s=decodeURIComponent(e),r=decodeURIComponent(t);return{owner:s,slug:r}}Object.defineProperty(t,"__esModule",{value:!0});var m=s("./node_modules/babel-runtime/core-js/object/assign.js"),_=r(m),h=s("./node_modules/babel-runtime/core-js/promise.js"),b=r(h);t.receiveLists=a,t.requestSubscribedLists=n,t.requestList=o,t.followList=i,t.unfollowList=l,t.updateListDetails=d,t.dismissListNotice=u,t.updateTitle=c,t.updateDescription=p;var E=s("./client/lib/wp/browser.js"),g=r(E),L=s("./client/state/action-types.js")},"./client/state/reader/lists/selectors.js":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return!!e.reader.lists.isRequestingList}function n(e){return!!e.reader.lists.isRequestingLists}function o(e,t){return!!(0,h.default)(e,"reader.lists.updatedLists")&&(0,m.default)(e.reader.lists.updatedLists,t)}function i(e,t){return!!(0,h.default)(e,"reader.lists.errors")&&t in e.reader.lists.errors}function l(e,t,s){if((0,h.default)(e,"reader.lists.items")&&t&&s){var r=t.toLowerCase(),a=s.toLowerCase();return(0,E.default)(e.reader.lists.items,function(e){return e.owner===r&&e.slug===a})}}function d(e,t,s){var r=l(e,t,s);return!!r&&(0,m.default)(e.reader.lists.subscribedLists,r.ID)}function u(e,t,s){var r=t.toLowerCase(),a=s.toLowerCase();return!!(0,E.default)(e.reader.lists.missingLists,function(e){return e.owner===r&&e.slug===a})}Object.defineProperty(t,"__esModule",{value:!0}),t.getSubscribedLists=void 0;var c=s("./node_modules/lodash/sortBy.js"),p=r(c),f=s("./node_modules/lodash/includes.js"),m=r(f),_=s("./node_modules/lodash/has.js"),h=r(_),b=s("./node_modules/lodash/find.js"),E=r(b),g=s("./node_modules/lodash/filter.js"),L=r(g);t.isRequestingList=a,t.isRequestingSubscribedLists=n,t.isUpdatedList=o,t.hasError=i,t.getListByOwnerAndSlug=l,t.isSubscribedByOwnerAndSlug=d,t.isMissingByOwnerAndSlug=u;var y=s("./client/lib/create-selector/index.js"),R=r(y);t.getSubscribedLists=(0,R.default)(function(e){return(0,p.default)((0,L.default)(e.reader.lists.items,function(t){return(0,m.default)(e.reader.lists.subscribedLists,t.ID)}),"slug")},function(e){return[e.reader.lists.items,e.reader.lists.subscribedLists]})},"./client/state/ui/reader/sidebar/actions.js":function(e,t,s){"use strict";function r(){return o.recordAction("sidebar_toggle_lists_menu"),o.recordGaEvent("Toggle Lists Menu"),o.recordTrack("calypso_reader_sidebar_list_toggle"),{type:n.READER_SIDEBAR_LISTS_TOGGLE}}function a(){return o.recordAction("sidebar_toggle_tags_menu"),o.recordGaEvent("Toggle Tags Menu"),o.recordTrack("calypso_reader_sidebar_tags_toggle"),{type:n.READER_SIDEBAR_TAGS_TOGGLE}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleReaderSidebarLists=r,t.toggleReaderSidebarTags=a;var n=s("./client/state/action-types.js"),o=s("./client/reader/stats.js")},"./node_modules/lodash/sample.js":function(e,t,s){function r(e){var t=n(e)?e:o(e),s=t.length;return s>0?t[a(0,s-1)]:void 0}var a=s("./node_modules/lodash/_baseRandom.js"),n=s("./node_modules/lodash/isArrayLike.js"),o=s("./node_modules/lodash/values.js");e.exports=r}});