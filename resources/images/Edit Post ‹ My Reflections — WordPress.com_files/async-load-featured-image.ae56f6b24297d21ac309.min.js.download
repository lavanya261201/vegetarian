webpackJsonp(["async-load-featured-image"],{"./client/post-editor/editor-drawer-well/index.jsx":function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=l("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=o(a),n=l("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=o(n),r=l("./node_modules/babel-runtime/helpers/createClass.js"),i=o(r),u=l("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=o(u),f=l("./node_modules/babel-runtime/helpers/inherits.js"),m=o(f),p=l("./node_modules/lodash/identity.js"),_=o(p),b=l("./node_modules/lodash/noop.js"),j=o(b),h=l("./node_modules/react/react.js"),g=o(h),v=l("./node_modules/prop-types/index.js"),x=o(v),y=l("./node_modules/classnames/index.js"),w=o(y),E=l("./node_modules/gridicons/build/index.js"),C=o(E),I=l("./node_modules/i18n-calypso/index.js"),M=l("./client/components/button/index.jsx"),k=o(M),z=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.empty,l=e.onRemove,o=e.onClick,a=e.disabled,d=e.icon,n=e.label,s=e.children,r=e.isHidden,i=(0,w.default)("editor-drawer-well",{"is-empty":t,"is-hidden":r});return g.default.createElement("div",{className:i},g.default.createElement("div",{className:"editor-drawer-well__content"},s,l&&g.default.createElement(k.default,{onClick:l,compact:!0,className:"editor-drawer-well__remove"},g.default.createElement("span",{className:"screen-reader-text"},this.props.translate("Remove")),g.default.createElement(C.default,{icon:"cross",size:24,className:"editor-drawer-well__remove-icon"}))),t&&g.default.createElement("button",{type:"button",onClick:o,disabled:a,className:"editor-drawer-well__placeholder"},d&&g.default.createElement(C.default,{icon:d,className:"editor-drawer-well__icon"}),g.default.createElement("span",{className:"editor-drawer-well__button button is-secondary is-compact"},n)),this.props.customDropZone)}}]),t}(h.Component);z.propTypes={children:x.default.node,disabled:x.default.bool,empty:x.default.bool,icon:x.default.string,isHidden:x.default.bool,label:x.default.node,onClick:x.default.func,customDropZone:x.default.node,onRemove:x.default.func,translate:x.default.func},z.defaultProps={disabled:!1,isHidden:!1,onClick:j.default,onRemove:j.default,translate:_.default},t.default=(0,I.localize)(z),e.exports=t.default},"./client/post-editor/editor-drawer/featured-image.jsx":function(e,t,l){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=l("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),n=a(d),s=l("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=a(s),i=l("./node_modules/babel-runtime/helpers/createClass.js"),u=a(i),c=l("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=a(c),m=l("./node_modules/babel-runtime/helpers/inherits.js"),p=a(m),_=l("./node_modules/react/react.js"),b=a(_),j=l("./node_modules/prop-types/index.js"),h=a(j),g=l("./node_modules/react-redux/es/index.js"),v=l("./node_modules/i18n-calypso/index.js"),x=l("./client/lib/posts/actions.js"),y=a(x),w=l("./client/lib/posts/stats.js"),E=o(w),C=l("./client/lib/posts/utils.js"),I=l("./client/components/accordion/index.jsx"),M=a(I),k=l("./client/post-editor/editor-drawer-well/index.jsx"),z=a(k),S=l("./client/post-editor/editor-featured-image/index.jsx"),D=a(S),N=l("./client/post-editor/editor-featured-image/dropzone.jsx"),P=a(N),H=l("./client/state/selectors/is-drop-zone-visible.js"),F=a(H),R=function(e){function t(){var e,l,o,a;(0,r.default)(this,t);for(var d=arguments.length,s=Array(d),i=0;i<d;i++)s[i]=arguments[i];return l=o=(0,f.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(s))),o.state={isSelecting:!1},o.startSelecting=function(){return o.setState({isSelecting:!0})},o.endSelecting=function(){return o.setState({isSelecting:!1})},a=l,(0,f.default)(o,a)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"removeImage",value:function(){y.default.edit({featured_image:""}),E.recordStat("featured_image_removed"),E.recordEvent("Featured image removed")}},{key:"render",value:function(){var e=this.props,t=e.translate,l=e.site,o=e.post,a=e.isDrawerHidden;return b.default.createElement(M.default,{title:t("Featured Image"),forceExpand:a,e2eTitle:"featured-image"},b.default.createElement(z.default,{label:t("Set Featured Image"),empty:!l||!o||!(0,C.getFeaturedImageId)(o),onClick:this.startSelecting,customDropZone:b.default.createElement(P.default,null),onRemove:this.removeImage,isHidden:a},b.default.createElement(D.default,{selecting:this.state.isSelecting,onImageSelected:this.endSelecting,site:l,post:o})))}}]),t}(_.Component);R.propTypes={site:h.default.object,post:h.default.object,translate:h.default.func,isDrawerHidden:h.default.bool},R.defaultProps={isDrawerHidden:!1},t.default=(0,g.connect)(function(e){return{isDrawerHidden:(0,F.default)(e,"featuredImage")}})((0,v.localize)(R)),e.exports=t.default},"./client/post-editor/editor-featured-image/dropzone-icon.jsx":function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=l("./node_modules/react/react.js"),d=o(a);t.default=function(){return d.default.createElement("svg",{width:"55",height:"42",viewBox:"0 0 55 42",xmlns:"http://www.w3.org/2000/svg"},d.default.createElement("title",null,"Featured Image"),d.default.createElement("g",{fillRule:"nonzero",fill:"#542B06"},d.default.createElement("path",{d:"M22 11c0-1.656 1.344-3 3-3s3 1.344 3 3-1.344 3-3 3-3-1.344-3-3zm18-7v12.33l-3.173 8.29-12.01.637L31.992 32H4c-2.21 0-4-1.79-4-4V4c0-2.21 1.79-4 4-4h32c2.21 0 4 1.79 4 4zm-4 0H4v14.888L12 10l11.79 13.1 3.174-3.7c1.596-1.864 4.48-1.864 6.074 0L36 22.852V4z"}),d.default.createElement("path",{d:"M41 16.667l3.443 9.27 9.89.406-7.762 6.136L49.24 42 41 36.52 32.76 42l2.67-9.52-7.763-6.14 9.89-.404"})))},e.exports=t.default},"./client/post-editor/editor-featured-image/dropzone.jsx":function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=l("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=o(a),n=l("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=o(n),r=l("./node_modules/babel-runtime/helpers/createClass.js"),i=o(r),u=l("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=o(u),f=l("./node_modules/babel-runtime/helpers/inherits.js"),m=o(f),p=l("./node_modules/lodash/uniqueId.js"),_=o(p),b=l("./node_modules/lodash/head.js"),j=o(b),h=l("./node_modules/react/react.js"),g=o(h),v=l("./node_modules/react-redux/es/index.js"),x=l("./node_modules/i18n-calypso/index.js"),y=l("./client/components/drop-zone/index.jsx"),w=o(y),E=l("./client/lib/media/actions.js"),C=o(E),I=l("./client/lib/media/store.js"),M=o(I),k=l("./client/lib/media/utils.js"),z=o(k),S=l("./client/lib/posts/actions.js"),D=o(S),N=l("./client/post-editor/editor-featured-image/dropzone-icon.jsx"),P=o(N),H=l("./client/state/media/actions.js"),F=l("./client/state/posts/actions.js"),R=l("./client/state/ui/selectors.js"),T=l("./client/state/ui/editor/selectors.js"),O=l("./client/state/analytics/actions.js"),L=function(e){function t(){var e,l,o,a;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return l=o=(0,c.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(r))),o.onFilesDrop=function(e){var t=(0,j.default)(z.default.filterItemsByMimePrefix(e,"image"));if(!t)return!1;var l=(0,_.default)("featured-image"),a=o.props.siteId,d=function e(){var t=M.default.get(a,l),d=t&&z.default.isItemBeingUploaded(t),n=!t;n?o.props.deleteMedia(a,l):o.props.receiveMedia(a,t),d||(M.default.off("change",e),t&&o.props.recordTracksEvent("calypso_editor_featured_image_upload",{source:"dropzone",type:"dragdrop"})),setTimeout(function(){D.default.edit({featured_image:t.ID})},0)};M.default.on("change",d),C.default.add(a,{ID:l,fileContents:t,fileName:t.name})},a=l,(0,c.default)(o,a)}return(0,m.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return g.default.createElement(w.default,{className:"editor-featured-image__dropzone",dropZoneName:"featuredImage",icon:g.default.createElement(P.default,null),textLabel:this.props.translate("Set as Featured Image"),onFilesDrop:this.onFilesDrop})}}]),t}(h.Component);t.default=(0,v.connect)(function(e){return{siteId:(0,R.getSelectedSiteId)(e),postId:(0,T.getEditorPostId)(e)}},{editPost:F.editPost,deleteMedia:H.deleteMedia,receiveMedia:H.receiveMedia,recordTracksEvent:O.recordTracksEvent})((0,x.localize)(L)),e.exports=t.default}});